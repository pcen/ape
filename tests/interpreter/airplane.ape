func charge(name string) {
	println("CHARGE:")
	println(name)
}

func refund(name string) {
	println("REFUND:")
	println(name)
}

func reserveSeat(name string) {
	println("RESERVE SEAT:")
	println(name)
}

func freeSeat(name string) {
	println("FREE SEAT:")
	println(name)
}

func main() {
	name := "reenus"
	skip {
		charge(name) @undo refund(name)
		reserveSeat(name) @undo freeSeat(name)
		# something went wrong...
		reverse "NO_SEATS"
	} seize "NO_SEATS" {
		println("side effects were undone")
	}

	return 0
}
